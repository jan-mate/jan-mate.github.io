<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Birthday Peculiarities</title>
        <link rel="stylesheet" href="styles.css">
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>

    </head>
<body>
    <h1>Birthday Peculiarities</h1>
    <p>I was born on 2004-02-25, but I will have lived for 21 years on 2025-02-24.
       This is because birthdays don't take into account leap years.
       I was born 02-25 on a leap year, which means it was 366 days till it was 02-25 again.
       So on 2005-02-25, I was actually 366/365.2425 = 1.0021 average Gregorian years.
       But I was born at 13:55, and 2004-02-25 13:55 + 365.2425 days ends up being 2005-02-24 18:44:42,
       so I had already lived for 1 average Gregorian year on 02-24.
        This pattern continues for the rest of my life. Which means birthdays can change.
    </p>
    <p>Here's a calculator to enter your birthdatetime to see when you will be different ages:</p>
    
    <label for="birthDate">Enter your birthdatetime (YYYY-MM-DD HH:MM:SS UTC±HH:MM):</label>
    <input type="text" id="birthDate" value="2004-02-25 13:55:00 UTC+01:00">
    
    <label for="minAge">Enter minimum age to calculate:</label>
    <input type="number" id="minAge" value="20">
    
    <label for="maxAge">Enter maximum age to calculate:</label>
    <input type="number" id="maxAge" value="30">
    
    <button onclick="calculateFutureDates()">Calculate</button>

    <table id="futureDatesTable">
        <thead>
            <tr>
                <th>Age</th>
                <th>Datetime (UTC)</th>
                <th>Datetime (Specified UTC±HH:MM)</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
    
    <div id="chart-container">
        <canvas id="birthdayChartUTC"></canvas>
        <canvas id="birthdayChartOriginal"></canvas>
    </div>
    

    <div class="clear"></div>

    <div id="frequency-container">
        <h3>Frequency of Each Day</h3>
        <div id="tables">
            <div>
                <h4>UTC (UTC+0)</h4>
                <table id="frequencyTableUTCModular">
                    <thead>
                        <tr>
                            <th>Day</th>
                            <th>Frequency</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
                <table id="frequencyTableUTCLifeExpectancy">
                    <thead>
                        <tr>
                            <th>Day</th>
                            <th>Frequency</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
                <table id="frequencyTableUTC400Years">
                    <thead>
                        <tr>
                            <th>Day</th>
                            <th>Frequency</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>
            <div>
                <h4>Specified UTC±HH:MM</h4>
                <table id="frequencyTableLocalModular">
                    <thead>
                        <tr>
                            <th>Day</th>
                            <th>Frequency</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
                <table id="frequencyTableLocalLifeExpectancy">
                    <thead>
                        <tr>
                            <th>Day</th>
                            <th>Frequency</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
                <table id="frequencyTableLocal400Years">
                    <thead>
                        <tr>
                            <th>Day</th>
                            <th>Frequency</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    
    <p id="agesInTimeRange">Ages where the birthday falls between 10:00-11:59: <span id="ageList"></span></p>

    <div>
        <label for="birthdayAge">Enter an age to calculate your birthday across time zones:</label>
        <input type="number" id="birthdayAge" value="21"> <!-- Default age is 24 -->
        <button id="birthdayAgeButton">Show on Map</button>
    </div>

    <div id="map" style="width: 100%; height: 600px;"></div>
    <p>Credit to Leaflet as well as https://mapshaper.org/ and https://github.com/evansiroky/timezone-boundary-builder and </p>

    <script src="script.js"></script>
    <script src="map.js"></script> 
</body>

</html>